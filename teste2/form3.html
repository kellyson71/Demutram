<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Formulário 3</title>
</head>
<body>
    <form id="form3">
        <label for="profissao">Profissão:</label>
        <input type="text" name="profissao" id="profissao" required><br><br>

        <label for="telefone">Telefone:</label>
        <input type="tel" name="telefone" id="telefone" required><br><br>

        <input type="submit" value="Enviar">
    </form>

    <script>
        // Recupera o objeto de dados compartilhado
        var formData = JSON.parse(localStorage.getItem('formData')) || null;

        // Se não houver dados no localStorage, redireciona para o Formulário 1
        if (!formData || !formData.nome || !formData.email || !formData.idade || !formData.cidade) {
            window.location.href = 'form1.html';
        }

        // Preenche os campos se houver dados no localStorage
        document.getElementById('profissao').value = formData.profissao || '';
        document.getElementById('telefone').value = formData.telefone || '';

        document.getElementById('form3').onsubmit = function(e) {
            e.preventDefault();
            formData.profissao = document.getElementById('profissao').value;
            formData.telefone = document.getElementById('telefone').value;
            localStorage.setItem('formData', JSON.stringify(formData));

            // Processa os dados finais
            console.log(formData);

            // Opcional: redirecionar ou fazer outra ação
            alert('Formulário concluído! Dados salvos no console.');
            localStorage.removeItem('formData'); // Limpa os dados após o envio final
        };
    </script>
</body>
</html>
